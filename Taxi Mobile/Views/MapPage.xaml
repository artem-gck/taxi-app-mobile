<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:maps="clr-namespace:Microsoft.Maui.Controls.Maps;assembly=Microsoft.Maui.Controls.Maps"
             xmlns:models="clr-namespace:Taxi_mobile.Models"
             x:Class="Taxi_mobile.Views.MapPage"
             Title="MapPage">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="9*"/>
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>

        <ContentView Grid.Row="0" 
                     Content="{Binding Map}"/>

        <Border Grid.Row="1"
                StrokeThickness="0"
                Background="{StaticResource Black}"
                Padding="16,8"
                Margin="0, -100, 0, 0"
                HorizontalOptions="FillAndExpand"
                VerticalOptions="FillAndExpand">

            <Border.StrokeShape>
                <RoundRectangle CornerRadius="25, 25, 0, 0" />
            </Border.StrokeShape>

            <Button Grid.Row="0" 
                Text="Get my location" 
                Command="{Binding GetCurrentLocationCommand}" 
                HeightRequest="56"
                VerticalOptions="End"/>

        </Border>

        <ActivityIndicator IsRunning="{Binding IsBusy}" 
                           Margin="0, 20"/>
    </Grid>
</ContentPage>